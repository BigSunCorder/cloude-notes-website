{"version":3,"file":"js/655-legacy.17dbaed8.js","mappings":"kLAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,SAASC,MAAM,CAAC,GAAK,kBAAkB,CAACH,EAAG,SAAS,CAACA,EAAG,IAAI,CAACE,YAAY,MAAMC,MAAM,CAAC,KAAO,KAAKC,GAAG,CAAC,MAAQ,SAASC,GAAgC,OAAxBA,EAAOC,iBAAwBV,EAAIW,SAASC,MAAM,KAAMC,cAAc,CAACT,EAAG,QAAQ,CAACG,MAAM,CAAC,KAAO,SAASH,EAAG,OAAO,CAACJ,EAAIc,GAAG,YAAY,KAAKV,EAAG,OAAO,CAACA,EAAG,MAAM,CAACE,YAAY,UAAU,CAACF,EAAG,KAAK,CAACJ,EAAIc,GAAG,SAASd,EAAIe,GAAGf,EAAIgB,UAAUC,QAAQ,OAAOb,EAAG,MAAM,CAACE,YAAY,QAAQN,EAAIkB,GAAIlB,EAAa,WAAE,SAASmB,EAASC,GAAO,OAAOhB,EAAG,cAAc,CAACiB,IAAIF,EAASC,MAAMd,YAAY,aAAaC,MAAM,CAAC,GAAM,mBAAsBY,EAAW,GAAG,KAAO,MAAM,CAACf,EAAG,MAAM,CAACE,YAAY,eAAe,CAACF,EAAG,QAAQ,CAACG,MAAM,CAAC,KAAO,cAAcP,EAAIc,GAAG,IAAId,EAAIe,GAAGI,EAASG,OAAO,KAAKlB,EAAG,OAAO,CAACJ,EAAIc,GAAGd,EAAIe,GAAGI,EAASI,YAAY,OAAOnB,EAAG,OAAO,CAACE,YAAY,eAAeE,GAAG,CAAC,MAAQ,SAASC,GAAyD,OAAjDA,EAAOe,kBAAkBf,EAAOC,iBAAwBV,EAAIyB,SAASN,MAAa,CAACnB,EAAIc,GAAG,QAAQV,EAAG,OAAO,CAACE,YAAY,aAAaE,GAAG,CAAC,MAAQ,SAASC,GAAyD,OAAjDA,EAAOe,kBAAkBf,EAAOC,iBAAwBV,EAAI0B,OAAOP,MAAa,CAACnB,EAAIc,GAAG,QAAQV,EAAG,OAAO,CAACE,YAAY,cAAc,CAACN,EAAIc,GAAGd,EAAIe,GAAGI,EAASQ,uBAAuB,QAAO,UACpwCC,EAAkB,G,4DC+CtB,GACAC,KAAAA,QACAC,KAFA,WAGA,UAEAC,QALA,WAOA,iBAAAC,KAAAA,WACA,sCAEAC,UAAAA,EAAAA,EAAAA,GAAAA,IAEAC,EAAAA,EAAAA,IAAAA,CAAAA,eAEAC,SAAAA,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAAA,IACAC,EAAAA,EAAAA,IAAAA,CACA,eACA,eACA,kBACA,kBACA,gBANA,IASAzB,SATA,WASA,WACA,iCACA0B,kBAAAA,KACAC,iBAAAA,KACAC,aAAAA,YACAC,kBAAAA,qBAEAC,MAAA,0BAEA,gBAAAnB,MAAAA,IACA,YACAoB,KAAAA,UACAC,QAAAA,YAGAC,OAAA,WACA,YACAF,KAAAA,QACAC,QAAAA,aAIAjB,OA/BA,SA+BAP,GAAA,WAEA,KACA,kCACAkB,kBAAAA,KACAC,iBAAAA,KACAC,aAAAA,YACAM,WAAAA,EAAAA,MACAL,kBAAAA,qBACAC,MAAA,0BACAnB,EAAAA,EACA,mBAAAwB,WAAAA,EAAAA,GAAAxB,MAAAA,QAGAG,SA7CA,SA6CAN,GAAA,WAEA,yCACAkB,kBAAAA,KACAC,iBAAAA,KACAI,KAAAA,YACAD,MAAA,WACA,mBAAAK,WAAAA,EAAAA,YClHwQ,I,UCQpQC,GAAY,OACd,EACAhD,EACA6B,GACA,EACA,KACA,WACA,MAIF,EAAemB,EAAiB","sources":["webpack://vue-evernote-client/./src/components/NotebookList.vue?ecd3","webpack://vue-evernote-client/src/components/NotebookList.vue","webpack://vue-evernote-client/./src/components/NotebookList.vue?bd8f","webpack://vue-evernote-client/./src/components/NotebookList.vue"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"detail\",attrs:{\"id\":\"notebook-list\"}},[_c('header',[_c('a',{staticClass:\"btn\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.onCreate.apply(null, arguments)}}},[_c('Icons',{attrs:{\"name\":\"add\"}}),_c('span',[_vm._v(\"新建笔记本\")])],1)]),_c('main',[_c('div',{staticClass:\"layout\"},[_c('h3',[_vm._v(\"笔记本列表(\"+_vm._s(_vm.notebooks.length)+\")\")]),_c('div',{staticClass:\"note\"},_vm._l((_vm.notebooks),function(notebook,index){return _c('router-link',{key:notebook.index,staticClass:\"note__book\",attrs:{\"to\":(\"note?notebookId=\" + (notebook.id)),\"href\":\"#\"}},[_c('div',{staticClass:\"books__list\"},[_c('Icons',{attrs:{\"name\":\"notebook\"}}),_vm._v(\" \"+_vm._s(notebook.title)+\" \"),_c('span',[_vm._v(_vm._s(notebook.noteCounts)+\" \")]),_c('span',{staticClass:\"book__delete\",on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.onDelete(notebook)}}},[_vm._v(\"删除\")]),_c('span',{staticClass:\"book__edit\",on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.onEdit(notebook)}}},[_vm._v(\"编辑\")]),_c('span',{staticClass:\"book__time\"},[_vm._v(_vm._s(notebook.createdAtFriendly))])],1)])}),1)])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"detail\" id=\"notebook-list\">\r\n    <header>\r\n      <a href=\"#\" class=\"btn\" @click.prevent=\"onCreate\">\r\n        <Icons name=\"add\" /><span>新建笔记本</span>\r\n      </a>\r\n    </header>\r\n    <main>\r\n      <div class=\"layout\">\r\n        <h3>笔记本列表({{ notebooks.length }})</h3>\r\n        <div class=\"note\">\r\n          <router-link\r\n            :to=\"`note?notebookId=${notebook.id}`\"\r\n            href=\"#\"\r\n            class=\"note__book\"\r\n            v-for=\"(notebook, index) in notebooks\"\r\n            :key=\"notebook.index\"\r\n          >\r\n            <div class=\"books__list\">\r\n              <Icons name=\"notebook\" />\r\n              {{ notebook.title }}\r\n              <span>{{ notebook.noteCounts }} </span>\r\n\r\n              <span\r\n                @click.stop.prevent=\"onDelete(notebook)\"\r\n                class=\"book__delete\"\r\n                >删除</span\r\n              >\r\n              <span @click.stop.prevent=\"onEdit(notebook)\" class=\"book__edit\"\r\n                >编辑</span\r\n              >\r\n              <span class=\"book__time\">{{ notebook.createdAtFriendly }}</span>\r\n            </div>\r\n          </router-link>\r\n        </div>\r\n      </div>\r\n    </main>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Auth from \"@/apis/auth\";\r\nimport Icons from \"./Icons.vue\";\r\nimport Notebooks from \"@/apis/notebooks\";\r\nimport { friendlyDate } from \"@/helper/util\";\r\nimport { mapState, mapActions, mapGetters, mapMutations } from \"vuex\";\r\n\r\n// window.Notebooks = Notebooks;\r\nexport default {\r\n  name: \"Login\",\r\n  data() {\r\n    return {};\r\n  },\r\n  created() {\r\n    //当没有注册时跳转到登录页面\r\n    this.checkLogin({ path: \"/login\" });\r\n    this.$store.dispatch(\"getNotebooks\");\r\n  },\r\n  computed: {\r\n    //注意要使用mapState\r\n    ...mapState([\"notebooks\"]),\r\n  },\r\n  methods: {\r\n    ...mapActions([\r\n      \"getNotebooks\",\r\n      \"addNotebooks\",\r\n      \"updateNotebooks\",\r\n      \"deleteNotebooks\",\r\n      \"checkLogin\",\r\n    ]),\r\n    // 创建笔记本\r\n    onCreate() {\r\n      this.$prompt(\"请输入笔记本标题\", \"创建笔记本\", {\r\n        confirmButtonText: \"确定\",\r\n        cancelButtonText: \"取消\",\r\n        inputPattern: /^.{1,30}$/,\r\n        inputErrorMessage: \"标题不能为空，且不超过30个字符\",\r\n      })\r\n        .then(({ value }) => {\r\n          //使用映射出来的action\r\n          this.addNotebooks({ title: value });\r\n          this.$message({\r\n            type: \"success\",\r\n            message: \"创建成功\",\r\n          });\r\n        })\r\n        .catch(() => {\r\n          this.$message({\r\n            type: \"error\",\r\n            message: \"创建失败\",\r\n          });\r\n        });\r\n    },\r\n    onEdit(notebook) {\r\n      // 修改笔记本\r\n      let title = \"\";\r\n      this.$prompt(\"修改笔记本\", \"请输入笔记本的标题\", {\r\n        confirmButtonText: \"确定\",\r\n        cancelButtonText: \"取消\",\r\n        inputPattern: /^.{1,30}$/,\r\n        inputValue: notebook.title, //摄制输入框的初始文\r\n        inputErrorMessage: \"标题不能为空，且不超过30个字符\",\r\n      }).then(({ value }) => {\r\n        title = value;\r\n        this.updateNotebooks({ notebookId: notebook.id, title: title });\r\n      });\r\n    },\r\n    onDelete(notebook) {\r\n      // 删除笔记本\r\n      this.$confirm(\"此操作将永久删除, 是否继续?\", \"删除笔记本\", {\r\n        confirmButtonText: \"确定\",\r\n        cancelButtonText: \"取消\",\r\n        type: \"warning\",\r\n      }).then(() => {\r\n        this.deleteNotebooks({ notebookId: notebook.id });\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style lang=\"less\" scoped>\r\n#notebook-list {\r\n  flex: 1;\r\n  header {\r\n    padding: 12px 30px;\r\n    border-bottom: 1px solid #ccc;\r\n    .btn {\r\n      border-radius: 3px;\r\n      font-size: 12px;\r\n      color: #666;\r\n      cursor: pointer;\r\n    }\r\n  }\r\n  main {\r\n    .layout {\r\n      max-width: 966px;\r\n      margin: 30px auto;\r\n      .note {\r\n        margin-top: 10px;\r\n        border-radius: 5px;\r\n        background-color: #fff;\r\n        .note__book {\r\n          display: block;\r\n          cursor: pointer;\r\n        }\r\n      }\r\n      .books__list {\r\n        padding: 12px 14px;\r\n        font-size: 14px;\r\n        color: #666;\r\n        font-weight: bold;\r\n        border-bottom: 1px solid #ebebeb;\r\n\r\n        &:hover {\r\n          background-color: #f7fafd;\r\n        }\r\n      }\r\n      h3 {\r\n        font-size: 12px;\r\n        color: #000;\r\n      }\r\n      .books__list span {\r\n        margin-left: 5px;\r\n        font-size: 12px;\r\n        font-weight: bold;\r\n        color: #b3c0c8;\r\n      }\r\n      .books__list .book__time,\r\n      .book__edit,\r\n      .book__delete {\r\n        float: right;\r\n        margin-right: 5px;\r\n      }\r\n    }\r\n  }\r\n  .icon {\r\n    color: #b3c0c8;\r\n    margin-right: 5px;\r\n  }\r\n  main .error-msg {\r\n    font-size: 12px;\r\n    color: red;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./NotebookList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./NotebookList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./NotebookList.vue?vue&type=template&id=65d986ca&scoped=true&\"\nimport script from \"./NotebookList.vue?vue&type=script&lang=js&\"\nexport * from \"./NotebookList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./NotebookList.vue?vue&type=style&index=0&id=65d986ca&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"65d986ca\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","on","$event","preventDefault","onCreate","apply","arguments","_v","_s","notebooks","length","_l","notebook","index","key","title","noteCounts","stopPropagation","onDelete","onEdit","createdAtFriendly","staticRenderFns","name","data","created","path","computed","mapState","methods","mapActions","confirmButtonText","cancelButtonText","inputPattern","inputErrorMessage","then","type","message","catch","inputValue","notebookId","component"],"sourceRoot":""}